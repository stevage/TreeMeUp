(function(e){function t(t){for(var o,n,i=t[0],d=t[1],c=t[2],u=0,p=[];u<i.length;u++)n=i[u],r[n]&&p.push(r[n][0]),r[n]=0;for(o in d)Object.prototype.hasOwnProperty.call(d,o)&&(e[o]=d[o]);l&&l(t);while(p.length)p.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],o=!0,i=1;i<a.length;i++){var d=a[i];0!==r[d]&&(o=!1)}o&&(s.splice(t--,1),e=n(n.s=a[0]))}return e}var o={},r={app:0},s=[];function n(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=o,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(t){return e[t]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],d=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var l=d;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var o=a("64a9"),r=a.n(o);r.a},1727:function(e,t,a){},2038:function(e,t,a){},3404:function(e,t,a){"use strict";var o=a("2038"),r=a.n(o);r.a},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("097d");var o=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex flex-column vh-100 avenir",attrs:{id:"app"}},[e._m(0),a("div",{staticClass:"flex flex-auto",attrs:{id:"middle"}},[a("div",{staticClass:"br b--light-gray overflow-auto w-100",attrs:{id:"sidebar"}},[e.hideIntro?e._e():a("div",{staticClass:"intro"},[e._v("Want to know what that council-managed tree is? Stand next to it and push the button. ")]),a("div",{staticClass:"cl f7 link dim ph3 ma3 pv2 dib white bg-blue pointer",on:{click:e.lookup}},[e._v("What tree am I next to?")]),a("div",{staticClass:"pa2"},[a("TreeLookup")],1),a("Map"),a("Results"),a("FeatureInfo"),e._m(1),a("p",[e._l(e.councils,function(t){return a("span",{staticClass:"f7"},[e._v(e._s(t)+",  ")])}),a("br")],2)],1)]),a("div",{staticClass:"bt b--light-gray flex-none",attrs:{id:"bottom"}})])},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bb b--gray bg-light-green",attrs:{id:"top"}},[a("h1",{staticClass:"f4 ph1 pv1 mv0 fl"},[e._v("Tree Me Up!")]),a("p",{staticClass:"fl ma2"},[e._v("Powered by "),a("span",{staticClass:"lancelot dark-green"},[e._v("opentrees.org")]),a("img",{staticClass:"w1 v-top ml2",attrs:{src:"cubetree-logo.png"}})])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[a("i",[e._v("Tree Me Up")]),e._v(" works in these local government areas:")])}],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"w-100 h5",attrs:{id:"map"}})},i=[],d=(a("96cf"),a("3b8d")),c=a("e192"),l=a.n(c),u=a("ef12"),p=a.n(u),f=(a("7914"),new o["a"]),b=(a("ac6d"),{mounted:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:l.a.accessToken="pk.eyJ1Ijoic3RldmFnZSIsImEiOiJjazNmNGV5enAwMTF1M2tuejhtc2twcXo5In0.mLPrYIYJ2FiFZ3KMqVIj6w",t=new l.a.Map({container:"map",center:[144.96,-37.81],zoom:18,style:"mapbox://styles/mapbox/light-v9"}),p.a.init(t,l.a),window.map=t,window.app.Map=this,t.addControl(new l.a.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0})),t.U.onLoad(function(){t.U.addVector("trees","localhost"===window.location.hostname?"http://localhost:4011/index.json":"mapbox://stevage.9slh6b3l"),t.U.addGeoJSON("selected-tree"),t.U.addCircle("trees-selected","selected-tree",{circleColor:"transparent",circleStrokeColor:"hsla(100,60%,40%,0.8)",circleStrokeWidth:3,circleRadius:{stops:[[10,8],[12,16]]},visibility:"none"}),t.U.addCircle("trees-vis-none","trees",{sourceLayer:"trees",circleColor:"hsla(80,50%,60%,0.6)",circleRadius:{stops:[[10,4],[12,6]]},circleOpacity:.5}),t.U.addCircle("trees-inner","trees",{sourceLayer:"trees",circleColor:"hsla(80,50%,20%,0.9)",circleRadius:{stops:[[12,1],[14,2]]}})});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}),h=b,g=a("2877"),_=Object(g["a"])(h,n,i,!1,null,"6ca1407b",null);_.options.__file="Map.vue";var v=_.exports,m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.imageUrl?a("img",{staticClass:"image",attrs:{src:e.imageUrl}}):e._e(),e.feature?a("table",{staticClass:"bg-white b--gray ba helvetica ma1",attrs:{id:"FeatureInfo"}},e._l(e.p,function(t,o){return a("tr",[-1===e.ignoreProps.indexOf(o)?[a("th",{staticClass:"f6"},[e._v(e._s(o))]),a("td",{staticClass:"f6"},[e._v(e._s(t))])]:e._e()],2)}),0):e._e()])},w=[],y={name:"FeatureInfo",data:function(){return{feature:void 0,ignoreProps:["id","Longitude","Latitude","image_url"]}},computed:{p:function(){return this.feature&&this.feature.properties},imageUrl:function(){return this.p&&this.p.image_url}},created:function(){window.app.FeatureInfo=this}},C=y,j=(a("a16e"),Object(g["a"])(C,m,w,!1,null,"3cf686d7",null));j.options.__file="FeatureInfo.vue";var k=j.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"TreeLookup"}},[a("div",{staticClass:"status"},[e._v(e._s(e.status))])])},F=[],O=a("a9a7"),P=a("bc3a"),T=a.n(P),G=a("6e1d"),S=a.n(G),I={name:"TreeLookup",data:function(){return{status:void 0}},created:function(){var e=this;window.TreeLookup=this,f.$on("request-lookup",function(){return e.lookup()})},methods:{lookup:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(){var t,a,o,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.trees=[],navigator.geolocation){e.next=4;break}return this.status="You need to enable geolocation in your browser.",e.abrupt("return");case 4:return this.status="Getting location...",e.prev=5,e.next=8,Object(O["geoLocationGetCurrentPositionPromise"])();case 8:return t=e.sent.coords,a=[t.longitude,t.latitude],this.status="Finding your nearest tree",this.ruler=S()(t.latitude,"meters"),e.next=14,T.a.get("https://api.mapbox.com/v4/stevage.9slh6b3l/tilequery/".concat(a,".json"),{params:{radius:25,access_token:"pk.eyJ1Ijoic3RldmFnZSIsImEiOiJjazZzd3V2dXEwNGZlM2xtZzFnOXdkOTFtIn0.pKVxwqE61gNc7PKK5u1j6g"}});case 14:e.t0=function(e){return e.properties.distance=r.ruler.distance(a,e.geometry.coordinates),e},o=e.sent.data.features.map(e.t0),this.status="",f.$emit("results",o),e.next=24;break;case 20:throw e.prev=20,e.t1=e["catch"](5),this.status=e.t1,e.t1;case 24:case"end":return e.stop()}},e,this,[[5,20]])}));function t(){return e.apply(this,arguments)}return t}()}},M=I,L=(a("3404"),Object(g["a"])(M,x,F,!1,null,"50c6560e",null));L.options.__file="TreeLookup.vue";var R=L.exports,q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"Results"}},e._l(e.trees.map(function(e){return e.properties}),function(t){return a("div",{staticClass:"tree"},[a("div",{staticClass:"bg-green"},[a("h2",{staticClass:"i lancelot f3 pa2 mv0 bg-green"},[e._v(e._s(t.common||t.scientific)+" ("+e._s(Math.round(t.distance))),a("span",{staticClass:"f5"},[e._v("m")]),e._v(")")])]),t.class?a("div",{staticClass:"cl f7 pa2 i"},[e._v(e._s(t.class)+" "),a("span",{staticClass:"light-green"},[e._v("> ")]),e._v(e._s(t.subclass)+" "),a("span",{staticClass:"light-green"},[e._v("> ")]),e._v(e._s(t.family))]):e._e(),a("table",{staticClass:"bg-white helvetica ma1"},[t.scientific?a("tr",[a("th",[e._v("Scientific name")]),a("td",[e._v(e._s(t.scientific))])]):e._e(),t.common?a("tr",[a("th",[e._v("Common name")]),a("td",[e._v(e._s(t.common))])]):e._e(),t.variety?a("tr",[a("th",[e._v("Variety")]),a("td",[e._v(e._s(t.variety))])]):e._e(),t.dbh?a("tr",[a("th",[e._v("Diameter")]),a("td",[e._v(e._s(t.dbh)+" "),a("span",{staticClass:"detail"},[e._v("cm.")])])]):e._e(),t.height?a("tr",[a("th",[e._v("Height")]),a("td",[e._v(e._s(t.height)+" "),a("span",{staticClass:"detail"},[e._v("m.")])])]):e._e(),t.planted?a("tr",[a("th",[e._v("Planted")]),a("td",[e._v(e._s(t.planted))])]):e._e(),t.maturity?a("tr",[a("th",[e._v("Maturity")]),a("td",[e._v(e._s(t.maturity))])]):e._e(),t.species_count?a("tr",[a("th",[e._v("Count")]),a("td",[e._v(e._s(t.species_count.toLocaleString())+" "),a("span",{staticClass:"detail"},[e._v("similar trees")])])]):e._e(),t.ref?a("tr",[a("th",[e._v("ID")]),a("td",[e._v(e._s("#"+t.ref))])]):e._e()])])}),0)},z=[],A={name:"Results",data:function(){return{trees:[]}},created:function(){var e=this;window.Results=this,f.$on("results",function(t){return e.trees=t})}},E=A,N=Object(g["a"])(E,q,z,!1,null,"0a715f02",null);N.options.__file="Results.vue";var B=N.exports,U=a("57b0");window.app={};var $={name:"app",components:{Map:v,FeatureInfo:k,TreeLookup:R,Results:B},data:function(){return{hideIntro:void 0}},created:function(){window.app.App=this},methods:{lookup:function(){f.$emit("request-lookup")}},computed:{councils:function(){return U.map(function(e){return e.long})}}};a("948e");var W=$,J=(a("034f"),Object(g["a"])(W,r,s,!1,null,null,null));J.options.__file="App.vue";var D=J.exports;o["a"].config.productionTip=!1,new o["a"]({render:function(e){return e(D)}}).$mount("#app")},"57b0":function(e){e.exports=[{id:"corangamite",download:"https://data.gov.au/geoserver/corangamite-shire-trees/wfs?request=GetFeature&typeName=ckan_d9677ebb_f3db_45f3_88eb_04089debb9e0&outputFormat=json",format:"geojson",gdal_options:"-s_srs EPSG:4326",short:"Corangamite",long:"Corangamite Shire"},{id:"colac_otways",download:"http://data.gov.au/geoserver/colac-otway-shire-trees/wfs?request=GetFeature&typeName=ckan_3ce1805b_cb81_4683_8f46_e7bd2d2a3b7c&outputFormat=json",format:"geojson",short:"Colac-Otways",long:"Colac-Otways Shire"},{id:"ballarat",download:"http://data.gov.au/dataset/eabaee3f-a563-449b-a04a-1ec847566ea1/resource/2f5eb80f-55fa-418c-915c-0b6de7653719/download/BallaratTrees.csv",format:"csv",filename:"ballarat.vrt",gdal_options:"-skipfailures",short:"Ballarat",long:"City of Ballarat"},{id:"manningham",download:"https://data.gov.au/geoserver/manningham-streettrees/wfs?request=GetFeature&typeName=ckan_1aef5123_24ff_4084_a0f1_a52ca71e9e99&outputFormat=json",format:"geojson",short:"Manningham",long:"City of Manningham"},{id:"geelong",download:"https://data.gov.au/geoserver/geelong-trees/wfs?request=GetFeature&typeName=ckan_13b1196c_7fb7_436a_86bc_ab24c16526de&outputFormat=json",format:"geojson",short:"Geelong",long:"City of Greater Geelong"},{id:"melbourne",download:"https://data.melbourne.vic.gov.au/api/views/fp38-wiyy/rows.csv?accessType=DOWNLOAD",format:"csv",filename:"melbourne.vrt",short:"Melbourne",long:"City of Melbourne"},{id:"adelaide",download:"http://opendata.adelaidecitycouncil.com/street_trees/street_trees.csv",format:"csv",filename:"adelaide.vrt",gdal_options:"-skipfailures",short:"Adelaide",long:"City of Adelaide"},{id:"waite",download:"http://data.sa.gov.au/storage/f/2014-06-23T06%3A12%3A22.180Z/waitetreeid-2014-app-joined-19062014.zip",format:"zip",filename:"WaiteTreeID_2014_App_Joined_19062014.shp",short:"Waite Arboretum",long:"Waite Arboretum (Adelaide)"},{id:"burnside",download:"https://data.sa.gov.au/data/dataset/b7e1c8f6-169c-41bd-b5d7-140395a41c38/resource/6d1912aa-4775-4f5e-b00d-18456ad872a5/download/burnsidetrees.geojson",format:"geojson",short:"Burnside",long:"City of Burnside"},{id:"launceston",download:"http://lcc.launceston.opendata.arcgis.com/datasets/63b09a3688804a17b0edc4b3b072a0d7_1.zip",format:"zip",filename:"Trees.shp",short:"Launceston",long:"City of Launceston"},{id:"hobsons_bay",download:"https://data.gov.au/dataset/80051ffe-04d5-4602-b15b-60e0d0e3d153/resource/ea1ec6fc-02bd-4e36-8e43-c990b6a9268d/download/hbcc_street_and_park_trees.json",format:"geojson",short:"Hobson's Bay",long:"City of Hobson's Bay"},{id:"glenelg",download:"http://data.gov.au/dataset/3721ad67-7b5b-4815-96b1-9d8b1a89dbd7/resource/b9ff3d44-17b4-4f87-8a28-2d540fa37d8f/download/Glenelg-Street-and-Park-Trees.csv",format:"csv",filename:"glenelg.vrt",short:"Glenelg",long:"Glenelg Shire"},{id:"ryde",download:["http://data.nsw.gov.au/data/dataset/f7cd2071-642e-4cac-9d28-d7ddf5635c39/resource/47843888-f9b6-4ae3-ba80-9318ff60a120/download/Public-Trees-2013.dbf","http://data.nsw.gov.au/data/dataset/f7cd2071-642e-4cac-9d28-d7ddf5635c39/resource/1372b28f-4201-46ab-9099-be0458a317bb/download/Public-Trees-2013.prj","http://data.nsw.gov.au/data/dataset/f7cd2071-642e-4cac-9d28-d7ddf5635c39/resource/00e339ad-e411-48b2-8cfa-ed3dfa8209ca/download/Public-Trees-2013.shp","http://data.nsw.gov.au/data/dataset/f7cd2071-642e-4cac-9d28-d7ddf5635c39/resource/3f4f3346-52d5-4084-94fc-877bf70c0a76/download/Public-Trees-2013.shx"],format:"shp",keepExtension:!0,short:"Ryde",long:"City of Ryde"},{id:"southern_grampians",download:"http://data.gov.au/geoserver/southern-grampians-street-and-park-trees/wfs?request=GetFeature&typeName=ckan_4a2843f5_8c01_438b_95f3_01ef0a518441&outputFormat=json",format:"geojson",short:"Southern Grampians",long:"City of Southern Grampians"},{id:"prospect1",download:"https://data.sa.gov.au/data/dataset/5d86d41e-b6c6-47d5-9b88-4d95916c5e76/resource/d1e30913-6e91-4a1f-b576-64120cc4b242/download/city-of-prospect-tree-species-in-reserves-2016.csv",format:"csv",short:"Prospect",long:"City of Prospect"},{id:"prospect2",download:"https://data.sa.gov.au/data/dataset/7bf2e4a4-40cc-40fd-83a9-fabb6d854039/resource/3f6be219-d66f-4b40-bfc7-16214fbc0989/download/city-of-prospect-street-trees-2016.csv",format:"csv",short:"Prospect",long:"City of Prospect"},{id:"perth",download:"http://catalogue.beta.data.wa.gov.au/dataset/80ad058b-9089-4915-bea5-f7ce8eab7a3f/resource/a5867408-d9d0-4cb3-a640-24b458a5b3df/download/trees.zip",format:"zip",filename:"TreesCOP_009.shp",comment:"Automatic download doesn't work: needs Google sign in. https://search.data.gov.au/dataset/ds-wa-154bd398-f536-4a78-b747-c5275461e181/details?q=trees%20perth",short:"Perth",long:"City of Perth"},{id:"brimbank",download:"https://data.gov.au/geoserver/brimbank-open-space-trees/wfs?request=GetFeature&typeName=ckan_7a57b5a1_2ca3_4171_be91_0d371cefd250&outputFormat=json",format:"geojson",short:"Brimbank",long:"City of Brimbank"},{id:"bendigo",download:"https://data.gov.au/geoserver/city-of-greater-bendigo-environment-trees/wfs?request=GetFeature&typeName=ckan_d17c9e50_fab1_40e6_b91d_6e665faf2656&outputFormat=json",format:"geojson",short:"Bendigo",long:"City of Greater Bendigo"},{id:"shepparton",download:"https://data.gov.au/dataset/e794491f-2eb7-4035-8b0c-f7248c28feda/resource/a1148573-68b9-4bd8-bda4-f08030d38c9d/download/greatersheppartoncitycouncilstreetandparktrees.zip",format:"zip",filename:"Greater_Shepparton_City_Council_Street_and_Park_Trees.shp",short:"Shepparton",long:"City of Shepparton"},{id:"wyndham",download:"https://data.gov.au/dataset/0254dee0-5b26-484f-a5ae-5ca3cab46601/resource/fb06e7c8-d037-489b-a963-b747271f2e54/download/trees.json",download_old2:"https://data.gov.au/dataset/0254dee0-5b26-484f-a5ae-5ca3cab46601/resource/4ab38849-d1de-4444-aeca-08719138d24f/download/trees.zip",gdal_options:"-s_srs unzip/OpenData_TI_Trees_LatestInspection.prj",format:"zip",filename:"OpenData_TI_Trees_LatestInspection.shp",short:"Wyndham",long:"City of Wyndham"},{id:"port_phillip",download:"https://data.gov.au/dataset/6b72d22b-d824-4281-bd08-ab62e3c38415/resource/9b0d7d55-5267-464b-85d7-3d141d779bab/download/city-of-port-phillip-trees.geojson",format:"geojson",short:"Port Phillip",long:"City of Port Phillip"},{id:"boroondara",download:"https://data.gov.au/geoserver/significant-tree/wfs?request=GetFeature&typeName=ckan_14e2b87e_c733_4071_b604_c0cb33d14a42&outputFormat=json",format:"geojson",short:"Boroondara",long:"City of Boroondara"},{id:"yarra",download:"https://data.gov.au/data/dataset/f3c88ce7-504b-4ef7-907f-686037f7420c/resource/6e4186b0-3e00-48f9-a09c-cb60d1d0d49f/download/yarra-street-and-park-trees.geojson",format:"geojson",short:"Yarra",long:"City of Yarra"},{id:"glen_eira",download:"https://data.gov.au/geoserver/street-and-park-trees/wfs?request=GetFeature&typeName=ckan_0553b144_9145_4458_922f_5c6175d2e100&outputFormat=json",format:"geojson",short:"Glen Eira",long:"City of Glen Eira"},{id:"wodonga",download:"https://data.gov.au/data/dataset/e7d6ebd3-04a8-4d73-b8ba-a9b82aa79b16/resource/180ba7ad-7bd7-490b-81f8-79c74ec0a915/download/tree.csv",format:"csv",filename:"wodonga.vrt",short:"Wodonga",long:"City of Wodonga"},{id:"hobart",download:"http://data-1-hobartcc.opendata.arcgis.com/datasets/d50fa3c9875d43fbb7e462248160e1ee_0.geojson",format:"geojson",short:"Hobart",long:"City of Hobart"},{id:"sherwood_arboretum",download:"http://www.spatial-data.brisbane.qld.gov.au/datasets/613169f42b43494499c83640392c43e5_0.geojson",format:"geojson",short:"Sherwood Arboretum",long:"Sherwood Arboretum (Brisbane)"}]},"64a9":function(e,t,a){},a16e:function(e,t,a){"use strict";var o=a("1727"),r=a.n(o);r.a}});
//# sourceMappingURL=app.6e4c9f4c.js.map